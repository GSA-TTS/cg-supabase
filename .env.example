# Supabase Development Environment Configuration
# This file mirrors the terraform cloud.gov deployment variables for local development
# 
# SECURITY NOTE: These are development defaults only!
# For production deployment, use proper secrets management and change all passwords/keys
#
# Reference: This mirrors the variables used in terraform:
# - variables.tf (root level)
# - supabase/variables.tf  
# - Cloud.gov service credentials are simulated here

############
# Secrets
# YOU MUST CHANGE THESE BEFORE GOING INTO PRODUCTION
# These mirror the terraform jwt_secret, anon_key, service_role_key variables
############

POSTGRES_PASSWORD=your-super-secret-and-long-postgres-password
JWT_SECRET=your-super-secret-jwt-token-with-at-least-32-characters-long
ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0
SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU
LOGFLARE_API_KEY=your-super-secret-and-long-logflare-key

# Encryption keys
PGSODIUM_ROOT_KEY=your-super-secret-pgsodium-root-key-at-least-32-characters-long

############
# Database - In terraform this is cloud.gov RDS
############

POSTGRES_HOST=db
POSTGRES_DB=postgres
POSTGRES_PORT=5432

# Connection pooling
POOLER_TENANT_ID=your-tenant-id

############
# API Proxy - Kong
############

KONG_HTTP_PORT=8000
KONG_HTTPS_PORT=8443

# Load balancer
SITE_URL=http://localhost:8000
API_EXTERNAL_URL=http://localhost:8000

# Comment to use local storage instead of S3
# STORAGE_BACKEND=s3
# GLOBAL_S3_BUCKET=your-s3-bucket-name
# REGION=your-s3-region
# STORAGE_S3_REGION=your-s3-region

############
# Auth
############

## Disable signup on the auth server
DISABLE_SIGNUP=false

## General
JWT_EXPIRY=3600
SITE_URL=http://localhost:8000
ADDITIONAL_REDIRECT_URLS=http://localhost:8000/**
DISABLE_SIGNUP=false
ENABLE_EMAIL_SIGNUP=true
ENABLE_EMAIL_AUTOCONFIRM=true
ENABLE_PHONE_SIGNUP=true
ENABLE_PHONE_AUTOCONFIRM=true
ENABLE_ANONYMOUS_USERS=false

## Email auth
ENABLE_EMAIL_SIGNUP=true
ENABLE_EMAIL_AUTOCONFIRM=true
SMTP_ADMIN_EMAIL=admin@example.com
SMTP_HOST=mail
SMTP_PORT=2500
SMTP_USER=fake_mail_user
SMTP_PASS=fake_mail_password
SMTP_SENDER_NAME=fake_sender

############
# Dashboard - Studio
############

STUDIO_DEFAULT_ORGANIZATION=Default
STUDIO_DEFAULT_PROJECT=Default
STUDIO_DEFAULT_URL=http://localhost:8000

SUPABASE_PUBLIC_URL=http://localhost:8000

############
# Functions
############

FUNCTIONS_VERIFY_JWT=false

############
# Logs
############

LOGFLARE_SECRET_KEY_BASE=super-secret-and-long-logflare-secret-key-base-with-at-least-32-characters

############
# API Gateway Kong
############

DASHBOARD_USERNAME=supabase
DASHBOARD_PASSWORD=this_password_is_insecure_and_should_be_updated

############
# PostgREST
############

PGRST_DB_SCHEMAS=public,storage,graphql_public

############
# Storage
############

# File storage
STORAGE_BACKEND=file
FILE_SIZE_LIMIT=52428800

# Image processing
IMGPROXY_ENABLE_WEBP_DETECTION=false

############
# Realtime
############

# General
SECRET_KEY_BASE=UpNVntn3cDxHJpq99YMc1T1AQgQpc8kfYTuRgBiYa15BLrx8etQoXz3gZv1/u2oq

############
# Vault
############

VAULT_ENC_KEY=super-secret-encrypt-key
VAULT_SECRET_KEY_BASE=super-secret-key-base-change-me

############
# Common
############

DOCKER_SOCKET_LOCATION=/var/run/docker.sock
